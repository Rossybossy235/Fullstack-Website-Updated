{"version":3,"sources":["redux/types.js","redux/reducers/userReducer.js","redux/reducers/dataReducer.js","redux/reducers/uiReducer.js","redux/store.js","redux/actions/userActions.js","util/MyButton.js","redux/actions/dataActions.js","components/scream/PostScream.js","components/layout/Notifications.js","components/layout/Navbar.js","util/AuthRoute.js","components/scream/DeleteScream.js","components/scream/LikeButton.js","components/scream/LikeButton2.js","components/scream/DeleteComment.js","components/scream/Comments.js","components/scream/CommentForm.js","components/scream/ScreamDialog.js","components/scream/Scream.js","components/profile/EditDetails.js","images/no-img.png","util/ProfileSkeleton.js","components/profile/Profile.js","util/ScreamSkeleton.js","pages/home.js","images/smiley.png","pages/login.js","pages/signup.js","components/profile/StaticProfile.js","pages/user.js","App.js","util/theme.js","reportWebVitals.js","index.js"],"names":["SET_AUTHENTICATED","SET_UNAUTHENTICATED","SET_USER","LOADING_USER","MARK_NOTIFICATIONS_READ","SET_ERRORS","LOADING_UI","CLEAR_ERRORS","LOADING_DATA","LOADING_DATA2","STOP_LOADING_UI","SET_SCREAMS","SET_SCREAM","LIKE_SCREAM","UNLIKE_SCREAM","LIKING_SCREAM","DELETE_SCREAM","POST_SCREAM","SUBMIT_COMMENT","LIKE_COMMENT","UNLIKE_COMMENT","LIKING_COMMENT","DELETE_COMMENT","initialState","authenticated","credentials","loading","likes","notifications","screams","scream","loading2","errors","middleWare","thunk","reducers","combineReducers","user","state","action","type","payload","userHandle","handle","screamId","filter","like","commentId","forEach","not","read","data","index","loading3","findIndex","splice","commentCount","comments","comment","loading4","UI","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","store","createStore","logoutUser","dispatch","localStorage","removeItem","axios","defaults","headers","common","getUserData","get","then","res","catch","err","console","log","setAuthorizationHeader","token","FBIdToken","setItem","children","onClick","tip","btnClassName","tipClassName","disabled","Tooltip","title","className","placement","IconButton","clearErrors","PostScream","open","body","handleOpen","setState","handleClose","props","handleChange","event","target","name","value","handleSubmit","preventDefault","postScream","nextProps","this","classes","MyButton","Dialog","onClose","fullWidth","maxWidth","closeButton","DialogTitle","DialogContent","onSubmit","TextField","label","multiline","rows","placeholder","error","helperText","textField","onChange","Button","variant","color","submitButton","CircularProgress","size","progressSpinner","Component","connect","newScream","post","response","withStyles","theme","spread","position","float","marginTop","left","top","Notifications","anchorEl","onMenuOpened","unreadNotificationsIds","map","notificationId","markNotificationsRead","notificationIcon","dayjs","extend","relativeTime","length","Badge","badgeContent","notificationsMarkup","verb","time","createdAt","fromNow","iconColor","icon","style","marginRight","MenuItem","Typography","component","Link","to","recipient","sender","aria-owns","undefined","aria-haspopup","Menu","Boolean","onEntered","notificationIds","Navbar","AppBar","rest","render","DeleteScream","deleteScream","deleteButton","DialogActions","delete","LikeButton","likedScream","find","likeScream","unlikeScream","mapActionsToProps","LikeButton2","likedComment","likeComment","unlikeComment","DeleteComment","deleteComment","Comments","Grid","container","userImage","likeCount","item","sm","src","alt","commentImage","commentData","format","invisibleSeparator","visibleSeparator","Comment","propTypes","PropTypes","bool","isRequired","string","array","height","objectFit","borderRadius","marginLeft","CommentForm","submitComment","textAlign","button","progress","ScreamDialog","oldPath","newPath","location","pathname","history","pushState","getScream","openDialog","dialogMarkup","spinnerDiv","thickness","spacing","profileImage","expandButton","dialogContent","padding","marginBottom","Scream","Card","card","CardMedia","image","CardContent","content","display","minWidth","EditDetails","bio","website","mapUserDetailsToState","userDetails","editUserDetails","backgroundColor","palette","primary","main","width","margin","fullLine","halfLine","Paper","paper","profile","NoImg","Profile","handleImageChange","files","formData","FormData","append","uploadImage","handleEditPicture","document","getElementById","click","handleLogout","imageUrl","id","hidden","href","rel","align","buttons","cardContent","flexDirection","cover","date","Array","from","home","getScreams","recentScreamsMarkup","xs","login","userData","email","password","loginUser","form","AppIcon","pageTitle","noValidate","general","customError","push","signup","newUserData","confirmPassword","signupUser","screamIdParam","match","params","screamsMarkup","createMuiTheme","light","dark","contrastText","secondary","typography","useNextVariants","fontSize","border","borderBottom","verticalAlign","cursor","baseURL","jwtDecode","exp","Date","now","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.b5e7dac1.chunk.js","sourcesContent":["// User reducer types\r\nexport const SET_AUTHENTICATED = 'SET_AUTHENTICATED';\r\nexport const SET_UNAUTHENTICATED = 'SET_UNAUTHENTICATED';\r\nexport const SET_USER = 'SET_USER';\r\nexport const LOADING_USER = 'LOADING_USER';\r\nexport const MARK_NOTIFICATIONS_READ = 'MARK_NOTIFICATIONS_READ';\r\n\r\n// UI Reducer types\r\nexport const SET_ERRORS = 'SET_ERRORS';\r\nexport const LOADING_UI = 'LOADING_UI';\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\r\nexport const LOADING_DATA = 'LOADING_DATA';\r\nexport const LOADING_DATA2 = 'LOADING_DATA2';\r\nexport const STOP_LOADING_UI = 'STOP_LOADING_UI';\r\n\r\n// Data reducer types\r\nexport const SET_SCREAMS = 'SET_SCREAMS';\r\nexport const SET_SCREAM = 'SET_SCREAM';\r\nexport const LIKE_SCREAM = 'LIKE_SCREAM';\r\nexport const UNLIKE_SCREAM = 'UNLIKE_SCREAM';\r\nexport const LIKING_SCREAM = 'LOADING_DATA3';\r\nexport const DELETE_SCREAM = 'DELETE_SCREAM';\r\nexport const POST_SCREAM = 'POST_SCREAM';\r\nexport const SUBMIT_COMMENT = 'SUBMIT_COMMENT';\r\nexport const LIKE_COMMENT = 'LIKE_COMMENT';\r\nexport const UNLIKE_COMMENT = 'UNLIKE_COMMENT';\r\nexport const LIKING_COMMENT = 'LIKING_COMMENT';\r\nexport const DELETE_COMMENT = 'DELETE_COMMENT';","import { SET_AUTHENTICATED, SET_UNAUTHENTICATED, UNLIKE_SCREAM } from '../types';\r\nimport { SET_USER, LOADING_USER, LIKE_SCREAM, MARK_NOTIFICATIONS_READ, LIKE_COMMENT, UNLIKE_COMMENT } from '../types';\r\n\r\nconst initialState = {\r\n    authenticated: false,\r\n    credentials: {},\r\n    loading: false,\r\n    likes: [],\r\n    notifications: []\r\n};\r\n\r\nexport default function(state = initialState, action){\r\n    switch(action.type){\r\n        case SET_AUTHENTICATED:\r\n            return {\r\n                ...state,\r\n                authenticated: true\r\n            };\r\n        case SET_UNAUTHENTICATED:\r\n            return initialState;\r\n        case SET_USER:\r\n            return {\r\n                authenticated: true,\r\n                loading: false,\r\n                ...action.payload\r\n            };\r\n        case LOADING_USER:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case LIKE_SCREAM:\r\n            return {\r\n                ...state,\r\n                likes: [\r\n                    ...state.likes,\r\n                    {\r\n                        userHandle: state.credentials.handle,\r\n                        screamId: action.payload.screamId\r\n                    }\r\n                ]\r\n            }\r\n        case UNLIKE_SCREAM:\r\n            return {\r\n                ...state,\r\n                likes: state.likes.filter((like) => like.screamId !== action.payload.screamId)\r\n            }\r\n        case LIKE_COMMENT:\r\n            return {\r\n                ...state,\r\n                likes: [\r\n                    ...state.likes,\r\n                    {\r\n                        userHandle: state.credentials.handle,\r\n                        commentId: action.payload.commentId\r\n                    }\r\n                ]\r\n            }\r\n        case UNLIKE_COMMENT:\r\n            return {\r\n                ...state,\r\n                likes: state.likes.filter((like) => like.commentId !== action.payload.commentId)\r\n            }\r\n        case MARK_NOTIFICATIONS_READ:\r\n            state.notifications.forEach(not => not.read = true);\r\n            return {\r\n                ...state\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import {\r\n    SET_SCREAMS, LIKE_SCREAM, UNLIKE_SCREAM, LIKING_SCREAM, LOADING_DATA, LOADING_DATA2, \r\n    DELETE_SCREAM, POST_SCREAM, SET_SCREAM, SUBMIT_COMMENT,\r\n    LIKE_COMMENT, UNLIKE_COMMENT, LIKING_COMMENT, DELETE_COMMENT, SET_ERRORS, CLEAR_ERRORS\r\n} from '../types';\r\n\r\nconst initialState = {\r\n    screams: [],\r\n    scream: {},\r\n    loading: false,\r\n    loading2: false\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n    let index;\r\n    switch (action.type) {\r\n        case SET_ERRORS:\r\n            return {\r\n                ...state,\r\n                loading2: false\r\n            };\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                loading2: false\r\n            };\r\n        case LOADING_DATA:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case LOADING_DATA2:\r\n            return {\r\n                ...state,\r\n                loading2: true\r\n            }\r\n        case LIKING_SCREAM:\r\n            return {\r\n                ...state,\r\n                loading3: true\r\n            }\r\n        case SET_SCREAMS:\r\n            return {\r\n                ...state,\r\n                screams: action.payload,\r\n                loading: false\r\n            }\r\n        case SET_SCREAM:\r\n            return {\r\n                ...state,\r\n                scream: action.payload\r\n            }\r\n        case LIKE_SCREAM:\r\n        case UNLIKE_SCREAM:\r\n            index = state.screams.findIndex((scream) => scream.screamId === action.payload.screamId);\r\n            state.screams[index] = action.payload;\r\n            if (state.scream.screamId === action.payload.screamId) {\r\n                state.scream = action.payload;\r\n            }\r\n            return {\r\n                ...state,\r\n                loading3: false\r\n            }\r\n        case DELETE_SCREAM:\r\n            index = state.screams.findIndex(scream => scream.screamId === action.payload);\r\n            state.screams.splice(index, 1);\r\n            return {\r\n                ...state\r\n            };\r\n        case POST_SCREAM:\r\n            return {\r\n                ...state,\r\n                screams: [\r\n                    action.payload,\r\n                    ...state.screams\r\n                ]\r\n            }\r\n        case SUBMIT_COMMENT:\r\n            return {\r\n                ...state,\r\n                loading2: false,\r\n                scream: {\r\n                    ...state.scream,\r\n                    commentCount: state.scream.commentCount + 1,\r\n                    comments: [action.payload, ...state.scream.comments]\r\n                }\r\n            }\r\n        case LIKE_COMMENT:\r\n        case UNLIKE_COMMENT:\r\n            index = state.scream.comments.findIndex((comment) => comment.commentId === action.payload.commentId);\r\n            state.scream.comments[index] = action.payload;\r\n            return {\r\n                ...state,\r\n                loading4: false\r\n            };\r\n        case LIKING_COMMENT:\r\n            return {\r\n                ...state,\r\n                loading4: true\r\n            }\r\n        case DELETE_COMMENT:\r\n            index = state.scream.comments.findIndex((comment) => comment.commentId === action.payload);\r\n            state.scream.comments.splice(index, 1);\r\n            state.scream.commentCount--;\r\n            return {\r\n                ...state\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { SET_ERRORS, CLEAR_ERRORS, LOADING_UI, STOP_LOADING_UI } from '../types';\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    errors: null\r\n};\r\n\r\nexport default function(state = initialState, action){\r\n    switch(action.type){\r\n        case SET_ERRORS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                errors: action.payload\r\n            };\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                errors: null\r\n            };\r\n        case LOADING_UI:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case STOP_LOADING_UI:\r\n            return {\r\n                ...state,\r\n                loading: false\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport userReducer from './reducers/userReducer';\r\nimport dataReducer from './reducers/dataReducer';\r\nimport uiReducer from './reducers/uiReducer';\r\n\r\nconst initialState = {};\r\nconst middleWare = [thunk];\r\nconst reducers = combineReducers({\r\n    user: userReducer,\r\n    data: dataReducer,\r\n    UI: uiReducer\r\n});\r\n\r\nconst composeEnhancers =\r\n    typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? \r\n        window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose;\r\n\r\nconst enhancer = composeEnhancers(applyMiddleware(...middleWare));\r\nconst store = createStore(reducers, initialState, enhancer);\r\n\r\nexport default store;","import { SET_USER, SET_ERRORS, CLEAR_ERRORS, LOADING_UI, SET_UNAUTHENTICATED, LOADING_USER, MARK_NOTIFICATIONS_READ } from '../types';\r\nimport axios from 'axios';\r\n\r\nexport const loginUser = (userData, history) => (dispatch) => {\r\n    dispatch({ type: LOADING_UI });\r\n    axios.post('/login', userData)\r\n        .then(res => {\r\n            setAuthorizationHeader(res.data.token);\r\n            dispatch(getUserData());\r\n            dispatch({ type: CLEAR_ERRORS });\r\n            history.push('/');\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type: SET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        });\r\n};\r\n\r\nexport const signupUser = (newUserData, history) => (dispatch) => {\r\n    dispatch({ type: LOADING_UI });\r\n    axios.post('/signup', newUserData)\r\n        .then(res => {\r\n            setAuthorizationHeader(res.data.token);\r\n            dispatch(getUserData());\r\n            dispatch({ type: CLEAR_ERRORS });\r\n            history.push('/');\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type: SET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        });\r\n};\r\n\r\nexport const logoutUser = () => (dispatch) => {\r\n    localStorage.removeItem('FBIdToken');\r\n    delete axios.defaults.headers.common['Authorization'];\r\n    dispatch({ type: SET_UNAUTHENTICATED });\r\n}\r\n\r\nexport const getUserData = () => (dispatch) => {\r\n    dispatch({ type: LOADING_USER });\r\n    axios.get('/user')\r\n        .then(res => {\r\n            dispatch({\r\n                type: SET_USER,\r\n                payload: res.data\r\n            })\r\n        })\r\n        .catch(err => console.log(err));\r\n}\r\n\r\nexport const uploadImage = (formData) => (dispatch) => {\r\n    dispatch({ type: LOADING_USER });\r\n    axios.post('/user/image', formData)\r\n        .then(res => {\r\n            dispatch(getUserData());\r\n        })\r\n        .catch(err => console.log(err));\r\n}\r\n\r\nexport const editUserDetails = (userDetails) => (dispatch) => {\r\n    dispatch({ type: LOADING_USER });\r\n    axios.post('/user', userDetails)\r\n        .then(() => {\r\n            dispatch(getUserData());\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const markNotificationsRead = (notificationIds) => dispatch => {\r\n    axios.post('/notifications', notificationIds)\r\n        .then(res => {\r\n            dispatch({\r\n                type: MARK_NOTIFICATIONS_READ\r\n            })\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nconst setAuthorizationHeader = (token) => {\r\n    const FBIdToken = `Bearer ${token}`;\r\n    localStorage.setItem('FBIdToken', FBIdToken);\r\n    axios.defaults.headers.common['Authorization'] = FBIdToken;\r\n}","import React from 'react'\r\n\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nexport default ({ children, onClick, tip, btnClassName, tipClassName, disabled }) => (\r\n    <Tooltip title={tip} className={tipClassName} placement=\"top\">\r\n        <IconButton onClick={onClick} className={btnClassName} disabled={disabled}>\r\n            {children}\r\n        </IconButton>\r\n    </Tooltip>\r\n);\r\n","import { SET_SCREAMS, LOADING_DATA, LOADING_DATA2, LIKE_SCREAM, UNLIKE_SCREAM, LIKING_SCREAM, DELETE_SCREAM, \r\n        SET_ERRORS, POST_SCREAM, CLEAR_ERRORS, LOADING_UI, SET_SCREAM, \r\n        STOP_LOADING_UI, SUBMIT_COMMENT, LIKE_COMMENT, UNLIKE_COMMENT, LIKING_COMMENT, DELETE_COMMENT } from '../types';\r\nimport axios from 'axios';\r\n\r\n//get all screams\r\nexport const getScreams = () => dispatch => {\r\n    dispatch({ type: LOADING_DATA });\r\n    axios.get('/screams')\r\n        .then(res => {\r\n            dispatch({ \r\n                type: SET_SCREAMS,\r\n                payload: res.data\r\n            })\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type: SET_SCREAMS,\r\n                payload: []\r\n            })\r\n        })\r\n}\r\n\r\nexport const getScream = (screamId) => dispatch => {\r\n    dispatch({ type: LOADING_UI });\r\n    axios.get(`/scream/${screamId}`)\r\n        .then(res => {\r\n            dispatch({\r\n                type: SET_SCREAM,\r\n                payload: res.data\r\n            });\r\n            dispatch({ type: STOP_LOADING_UI })\r\n        })\r\n        .catch(err => console.log(err));\r\n}\r\n\r\n//Post a scream\r\nexport const postScream = (newScream) => (dispatch) => {\r\n    dispatch({ type: LOADING_UI });\r\n    axios.post('/scream', newScream)\r\n        .then(res => {\r\n            dispatch({\r\n                type: POST_SCREAM,\r\n                payload: res.data\r\n            });\r\n            dispatch( clearErrors() );\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type: SET_ERRORS,\r\n                payload: err.response.data\r\n            });\r\n        })\r\n}\r\n\r\n//like a scream\r\nexport const likeScream = (screamId) => dispatch => {\r\n    dispatch({ type: LIKING_SCREAM });\r\n    axios.get(`/scream/${screamId}/like`)\r\n        .then(res => {\r\n            dispatch({\r\n                type: LIKE_SCREAM,\r\n                payload: res.data\r\n            })\r\n        })\r\n        .catch(err => console.log(err));\r\n}\r\n\r\n//unlike a scream\r\nexport const unlikeScream = (screamId) => dispatch => {\r\n    dispatch({ type: LIKING_SCREAM });\r\n    axios.get(`/scream/${screamId}/unlike`)\r\n        .then(res => {\r\n            dispatch({\r\n                type: UNLIKE_SCREAM,\r\n                payload: res.data\r\n            })\r\n        })\r\n        .catch(err => console.log(err));\r\n}\r\n\r\n//submit a comment\r\nexport const submitComment = (screamId, commentData) => (dispatch) => {\r\n    dispatch({ type: LOADING_DATA2 });\r\n    axios.post(`/scream/${screamId}/comment`, commentData)\r\n        .then(res => {\r\n            dispatch({\r\n                type: SUBMIT_COMMENT,\r\n                payload: res.data\r\n            });\r\n            dispatch(clearErrors());\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type: SET_ERRORS,\r\n                payload: err.response.data\r\n            });\r\n        });\r\n}\r\n\r\n//delete a scream\r\nexport const deleteScream = (screamId) => (dispatch) => {\r\n    axios.delete(`/scream/${screamId}`)\r\n        .then(() => {\r\n            dispatch({ type: DELETE_SCREAM, payload: screamId})\r\n        })\r\n        .catch(err => console.log(err));\r\n}\r\n\r\nexport const getUserData = (userHandle) => dispatch => {\r\n    dispatch({ type: LOADING_DATA });\r\n    axios.get(`/user/${userHandle}`)\r\n        .then(res => {\r\n            dispatch({\r\n                type: SET_SCREAMS,\r\n                payload: res.data.screams\r\n            });\r\n        })\r\n        .catch(() => {\r\n            dispatch({\r\n                type: SET_SCREAMS,\r\n                payload: null\r\n            })\r\n        })\r\n}\r\n\r\n//like a comment\r\nexport const likeComment = (screamId, commentId) => dispatch => {\r\n    dispatch({ type: LIKING_COMMENT });\r\n    axios.get(`/screams/${screamId}/comment/${commentId}/like`)\r\n        .then(res => {\r\n            dispatch({\r\n                type: LIKE_COMMENT,\r\n                payload: res.data\r\n            })\r\n        })\r\n        .catch(err => console.log(err));\r\n}\r\n\r\n//unlike a comment\r\nexport const unlikeComment = (screamId, commentId) => dispatch => {\r\n    dispatch({ type: LIKING_COMMENT });\r\n    axios.get(`/screams/${screamId}/comment/${commentId}/unlike`)\r\n        .then(res => {\r\n            dispatch({\r\n                type: UNLIKE_COMMENT,\r\n                payload: res.data\r\n            })\r\n        })\r\n        .catch(err => console.log(err));\r\n}\r\n\r\n//delete a comment\r\nexport const deleteComment = (screamId, commentId) => (dispatch) => {\r\n    axios.delete(`/screams/${screamId}/comment/${commentId}`)\r\n        .then(() => {\r\n            dispatch({ type: DELETE_COMMENT, payload: commentId})\r\n        })\r\n        .catch(err => console.log(err));\r\n}\r\n\r\nexport const clearErrors = () => dispatch => {\r\n    dispatch({ type: CLEAR_ERRORS });\r\n}","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport MyButton from '../../util/MyButton';\r\n\r\n// Mui imports\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n// Redux imports\r\nimport { connect } from 'react-redux';\r\nimport { postScream, clearErrors } from '../../redux/actions/dataActions';\r\n\r\nconst styles = theme => ({\r\n    ...theme.spread,\r\n    submitButton: {\r\n        position: 'relative',\r\n        float: 'right',\r\n        marginTop: 10\r\n    },\r\n    progressSpinner: {\r\n        position: 'absolute'\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        left: '91%',\r\n        top: '6%'\r\n    }\r\n})\r\n\r\nclass PostScream extends Component{\r\n    state = {\r\n        open: false,\r\n        body: '',\r\n        errors: {}\r\n    };\r\n    componentWillReceiveProps(nextProps){\r\n        if(nextProps.UI.errors) {\r\n            this.setState({\r\n                errors: nextProps.UI.errors\r\n            });\r\n        };\r\n        if(!nextProps.UI.errors && !nextProps.UI.loading){\r\n            this.setState({ body: '', open: false, errors: {} });\r\n        }\r\n    }\r\n    handleOpen = () => {\r\n        this.setState({ open: true });\r\n    };\r\n    handleClose = () => {\r\n        this.props.clearErrors();\r\n        this.setState({ open: false, errors: {} });\r\n    };\r\n    handleChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value});\r\n    };\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        this.props.postScream({ body: this.state.body });\r\n    };\r\n    render() {\r\n        const { errors } = this.state;\r\n        const { classes, UI: { loading }} = this.props;\r\n        return (\r\n            <Fragment>\r\n                <MyButton onClick={this.handleOpen} tip=\"Post a Scream!\">\r\n                    <AddIcon/>\r\n                </MyButton>\r\n                <Dialog open={this.state.open} onClose={this.handleClose} fullWidth maxWidth=\"sm\">\r\n                    <MyButton tip=\"Close\" onClick={this.handleClose} tipClassName={classes.closeButton}>\r\n                        <CloseIcon/>\r\n                    </MyButton>\r\n                    <DialogTitle>Post a new scream</DialogTitle>\r\n                    <DialogContent>\r\n                        <form onSubmit={this.handleSubmit}>\r\n                            <TextField\r\n                                name=\"body\"\r\n                                type=\"text\"\r\n                                label=\"Scream\"\r\n                                multiline\r\n                                rows=\"3\"\r\n                                placeholder=\"Scream at your friends!\"\r\n                                error={errors.body ? true : false}\r\n                                helperText={errors.body}\r\n                                className={classes.textField}\r\n                                onChange={this.handleChange}\r\n                                fullWidth\r\n                            />\r\n                            <Button type=\"submit\" variant=\"contained\" color=\"primary\"\r\n                                className={classes.submitButton} disabled={loading}>\r\n                                    Submit\r\n                                    {loading && (\r\n                                        <CircularProgress size={30} className={classes.progressSpinner}/>\r\n                                    )}\r\n                            </Button>\r\n                        </form>\r\n                    </DialogContent>\r\n                </Dialog>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nPostScream.propTypes = {\r\n    postScream: PropTypes.func.isRequired,\r\n    clearErrors: PropTypes.func.isRequired,\r\n    UI: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    UI: state.UI\r\n})\r\n\r\nexport default connect(mapStateToProps, { postScream, clearErrors })(withStyles(styles)(PostScream))","import React, { Component, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport PropTypes from 'prop-types';\r\n\r\n//Mui imports\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Badge from '@material-ui/core/Badge';\r\n\r\n//Icons\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\n\r\n//Redux\r\nimport { connect } from 'react-redux';\r\nimport { markNotificationsRead } from '../../redux/actions/userActions';\r\n\r\nclass Notifications extends Component {\r\n    state = {\r\n        anchorEl: null\r\n    };\r\n    handleOpen = (event) => {\r\n        this.setState({ anchorEl: event.target });\r\n    };\r\n    handleClose = () => {\r\n        this.setState({ anchorEl: null });\r\n    }\r\n    onMenuOpened = () => {\r\n        let unreadNotificationsIds = this.props.notifications\r\n            .filter(not => !not.read)\r\n            .map(not => not.notificationId);\r\n        this.props.markNotificationsRead(unreadNotificationsIds);\r\n    }\r\n    render() {\r\n        const notifications = this.props.notifications;\r\n        const anchorEl = this.state.anchorEl;\r\n\r\n        dayjs.extend(relativeTime);\r\n\r\n        let notificationIcon;\r\n        if(notifications && notifications.length > 0){\r\n            notifications.filter(not => not.read === false).length > 0\r\n                ? (notificationIcon = (\r\n                    <Badge badgeContent={notifications.filter(not => not.read === false).length}\r\n                        color=\"secondary\">\r\n                            <NotificationsIcon/>\r\n                    </Badge>\r\n                )) : (\r\n                    notificationIcon = <NotificationsIcon/>\r\n                )\r\n        } else {\r\n            notificationIcon = <NotificationsIcon/>\r\n        }\r\n        let notificationsMarkup =\r\n            notifications && notifications.length > 0 ? (\r\n                notifications.map(not => {\r\n                    const verb = not.type === 'like' ? 'liked' : 'commented on';\r\n                    const time = dayjs(not.createdAt).fromNow();\r\n                    const iconColor = not.read ? 'primary' : 'secondary';\r\n                    const type = not.commentId ? 'comment' : 'scream';\r\n                    const icon = not.type === 'like' ? (\r\n                        <FavoriteIcon color={iconColor} style={{ marginRight: 10 }}/>\r\n                    ) : (\r\n                        <ChatIcon color={iconColor} style={{ marginRight: 10 }}/>\r\n                    )\r\n\r\n                    return (\r\n                        <MenuItem key={not.createdAt} onClick={this.handleClose}>\r\n                            {icon}\r\n                            <Typography\r\n                                component={Link}\r\n                                color=\"default\"\r\n                                variant=\"body1\"\r\n                                to={`/users/${not.recipient}/scream/${not.screamId}`}\r\n                            >\r\n                                {not.sender} {verb} your {type} {time}\r\n                            </Typography>\r\n                        </MenuItem>\r\n                    )\r\n                })\r\n            ) : (\r\n                <MenuItem onClick={this.handleClose}>\r\n                    You have no notifications yet\r\n                </MenuItem>\r\n            )\r\n        return (\r\n            <Fragment>\r\n                <Tooltip placement=\"top\" title=\"Notifications\">\r\n                    <IconButton aria-owns={anchorEl ? 'simple-menu' : undefined}\r\n                        aria-haspopup=\"true\"\r\n                        onClick={this.handleOpen}\r\n                    >\r\n                        {notificationIcon}\r\n                    </IconButton>\r\n                </Tooltip>\r\n                <Menu\r\n                    anchorEl={anchorEl}\r\n                    open={Boolean(anchorEl)}\r\n                    onClose={this.handleClose}\r\n                    onEntered={this.onMenuOpened}\r\n                >\r\n                    {notificationsMarkup}\r\n                </Menu>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nNotifications.propTypes = {\r\n    markNotificationsRead: PropTypes.func.isRequired,\r\n    notifications: PropTypes.array.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    notifications: state.user.notifications\r\n});\r\n\r\nexport default connect(mapStateToProps, { markNotificationsRead })(Notifications);","import React, { Component, Fragment } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport MyButton from '../../util/MyButton';\r\nimport PostScream from '../scream/PostScream';\r\nimport Notifications from './Notifications';\r\n\r\n//MUI\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport ToolBar from '@material-ui/core/ToolBar';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n// Icons\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nexport class Navbar extends Component {\r\n    render() {\r\n        const { authenticated } = this.props\r\n        return (\r\n            <AppBar>\r\n                <ToolBar className=\"nav-container\">\r\n                    {authenticated ? (\r\n                        <Fragment>\r\n                            <PostScream/>\r\n                            <Link to=\"/\">\r\n                                <MyButton tip=\"Home\">\r\n                                    <HomeIcon/>\r\n                                </MyButton>\r\n                            </Link>\r\n                                <Notifications/>\r\n                        </Fragment>\r\n                    ) : (\r\n                        <Fragment>\r\n                            <Button color=\"inherit\" component={Link} to=\"/login\">\r\n                            Login\r\n                            </Button>\r\n                            <Button color=\"inherit\" component={Link} to=\"/\">\r\n                                Home\r\n                            </Button>\r\n                            <Button color=\"inherit\" component={Link} to=\"/signup\">\r\n                                Signup\r\n                            </Button>\r\n                        </Fragment>\r\n                    )}\r\n                </ToolBar>\r\n            </AppBar>\r\n        )\r\n    }\r\n}\r\n\r\nNavbar.propTypes = {\r\n    authenticated: PropTypes.bool.isRequired\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    authenticated: state.user.authenticated\r\n})\r\n\r\nexport default connect(mapStateToProps)(Navbar);\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst AuthRoute = ({component: Component, authenticated, ...rest }) => (\r\n    <Route\r\n    {...rest}\r\n    render={(props) => authenticated === true ? <Redirect to='./'/> : <Component {...props}/>}\r\n    />\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n    authenticated: state.user.authenticated\r\n});\r\n\r\nAuthRoute.propTypes = {\r\n    user: PropTypes.object\r\n};\r\n\r\nexport default connect(mapStateToProps)(AuthRoute);","import React, { Component, Fragment } from 'react'\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport PropTypes from 'prop-types';\r\nimport MyButton from '../../util/MyButton';\r\n\r\n//Mui imports\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { deleteScream } from '../../redux/actions/dataActions';\r\n\r\nconst styles = {\r\n    deleteButton: {\r\n        position: 'absolute',\r\n        left: '90%',\r\n        top: '10%'\r\n    }\r\n}\r\n\r\nexport class DeleteScream extends Component {\r\n    state = {\r\n        open: false\r\n    };\r\n    handleOpen = () => {\r\n        this.setState({ open: true });\r\n    }\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    }\r\n    deleteScream = () => {\r\n        this.props.deleteScream(this.props.screamId);\r\n        this.setState({ open: false });\r\n    }\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <Fragment>\r\n                <MyButton tip=\"Delete Scream\" onClick={this.handleOpen} btnClassName={classes.deleteButton}>\r\n                    <DeleteOutline color=\"secondary\"/>\r\n                </MyButton>\r\n                <Dialog open={this.state.open} onClose={this.handleClose} fullWidth maxWidth=\"sm\">\r\n                    <DialogTitle>\r\n                        Are you sure you want to delete this scream?\r\n                    </DialogTitle>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose} color=\"primary\">\r\n                            Cancel\r\n                        </Button>\r\n                        <Button onClick={this.deleteScream} color=\"secondary\">\r\n                            Delete\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nDeleteScream.propTypes = {\r\n    deleteScream: PropTypes.func.isRequired,\r\n    classes: PropTypes.object.isRequired,\r\n    screamId: PropTypes.string.isRequired\r\n}\r\n\r\nexport default connect(null, { deleteScream })(withStyles(styles)(DeleteScream));\r\n","import React, { Component } from 'react'\r\nimport MyButton from '../../util/MyButton';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\n//icons\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder';\r\n\r\n//Redux\r\nimport { connect } from 'react-redux'\r\nimport { likeScream, unlikeScream } from '../../redux/actions/dataActions';\r\n\r\nexport class LikeButton extends Component {\r\n    likedScream = () => {\r\n        if(this.props.user.likes && this.props.user.likes.find(like => like.screamId === this.props.screamId))\r\n            return true;\r\n        else return false;\r\n    };\r\n    likeScream = () => {\r\n        this.props.likeScream(this.props.screamId);\r\n    };\r\n    unlikeScream = () => {\r\n        this.props.unlikeScream(this.props.screamId);\r\n    };\r\n    render() {\r\n        const { authenticated } = this.props.user;\r\n        const { data: { loading3 } } = this.props;\r\n        const likeButton = !authenticated ? (\r\n            <Link to=\"/login\">\r\n                <MyButton tip=\"Like\">\r\n                        <FavoriteBorder color=\"primary\"/>\r\n                </MyButton>\r\n            </Link>\r\n        ) : (\r\n            this.likedScream() ? (\r\n                <MyButton tip=\"Undo like\" disabled={loading3} onClick={this.unlikeScream}>\r\n                    <FavoriteIcon color=\"primary\"/>\r\n                </MyButton>\r\n            ) : (\r\n                <MyButton tip=\"Like\" disabled={loading3} onClick={this.likeScream}>\r\n                    <FavoriteBorder color=\"primary\"/>\r\n                </MyButton>\r\n            )\r\n        );\r\n\r\n        return likeButton;\r\n    }\r\n}\r\n\r\nLikeButton.propTypes = {\r\n    user: PropTypes.object.isRequired,\r\n    screamId: PropTypes.string.isRequired,\r\n    likeScream: PropTypes.func.isRequired,\r\n    unlikeScream: PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    user: state.user,\r\n    data: state.data\r\n})\r\n\r\nconst mapActionsToProps = {\r\n    likeScream,\r\n    unlikeScream\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(LikeButton);\r\n","import React, { Component } from 'react'\r\nimport MyButton from '../../util/MyButton';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\n//icons\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder';\r\n\r\n//Redux\r\nimport { connect } from 'react-redux'\r\nimport { likeComment, unlikeComment } from '../../redux/actions/dataActions';\r\n\r\nclass LikeButton2 extends Component {\r\n    likedComment = () => {\r\n        if(this.props.user.likes && this.props.user.likes.find((like) => like.commentId === this.props.commentId))\r\n            return true;\r\n        else return false;\r\n    };\r\n    likeComment = () => {\r\n        this.props.likeComment(this.props.screamId, this.props.commentId);\r\n    };\r\n    unlikeComment = () => {\r\n        this.props.unlikeComment(this.props.screamId, this.props.commentId);\r\n    };\r\n    render() {\r\n        const { authenticated } = this.props.user;\r\n        const { data: { loading4 } } = this.props;\r\n        const likeButton = !authenticated ? (\r\n            <Link to=\"/login\">\r\n                <MyButton tip=\"Like\">\r\n                        <FavoriteBorder color=\"primary\"/>\r\n                </MyButton>\r\n            </Link>\r\n        ) : (\r\n            this.likedComment() ? (\r\n                <MyButton tip=\"Undo like\" disabled={loading4} onClick={this.unlikeComment}>\r\n                    <FavoriteIcon color=\"primary\"/>\r\n                </MyButton>\r\n            ) : (\r\n                <MyButton tip=\"Like\" disabled={loading4} onClick={this.likeComment}>\r\n                    <FavoriteBorder color=\"primary\"/>\r\n                </MyButton>\r\n            )\r\n        );\r\n\r\n        return likeButton;\r\n    }\r\n}\r\n\r\nLikeButton2.propTypes = {\r\n    user: PropTypes.object.isRequired,\r\n    screamId: PropTypes.string.isRequired,\r\n    commentId: PropTypes.string.isRequired,\r\n    likeComment: PropTypes.func.isRequired,\r\n    unlikeComment: PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    user: state.user,\r\n    data: state.data\r\n})\r\n\r\nconst mapActionsToProps = {\r\n    likeComment,\r\n    unlikeComment\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(LikeButton2);\r\n","import React, { Component, Fragment } from 'react'\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport PropTypes from 'prop-types';\r\nimport MyButton from '../../util/MyButton';\r\n\r\n//Mui imports\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { deleteComment } from '../../redux/actions/dataActions';\r\n\r\nconst styles = {\r\n    deleteButton: {\r\n        position: 'inherit'\r\n    }\r\n}\r\n\r\nclass DeleteComment extends Component {\r\n    state = {\r\n        open: false\r\n    };\r\n    handleOpen = () => {\r\n        this.setState({ open: true });\r\n    }\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    }\r\n    deleteComment = () => {\r\n        this.props.deleteComment(this.props.screamId, this.props.commentId);\r\n        this.setState({ open: false });\r\n    }\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <Fragment>\r\n                <MyButton tip=\"Delete Comment\" onClick={this.handleOpen} btnClassName={classes.deleteButton}>\r\n                    <DeleteOutline color=\"secondary\"/>\r\n                </MyButton>\r\n                <Dialog open={this.state.open} onClose={this.handleClose} fullWidth maxWidth=\"sm\">\r\n                    <DialogTitle>\r\n                        Are you sure you want to delete this comment?\r\n                    </DialogTitle>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose} color=\"primary\">\r\n                            Cancel\r\n                        </Button>\r\n                        <Button onClick={this.deleteComment} color=\"secondary\">\r\n                            Delete\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nDeleteComment.propTypes = {\r\n    deleteComment: PropTypes.func.isRequired,\r\n    classes: PropTypes.object.isRequired,\r\n    screamId: PropTypes.string.isRequired,\r\n    commentId: PropTypes.string.isRequired\r\n}\r\n\r\nexport default connect(null, { deleteComment })(withStyles(styles)(DeleteComment));\r\n","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport { Link } from 'react-router-dom';\r\nimport dayjs from 'dayjs';\r\nimport LikeButton2 from './LikeButton2';\r\nimport DeleteComment from './DeleteComment';\r\n\r\n//MUI imports\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n//Redux\r\nimport { connect } from 'react-redux';\r\n\r\nconst styles = theme => ({\r\n    ...theme.spread,\r\n    commentImage: {\r\n        maxWidth: '100%',\r\n        height: 100,\r\n        objectFit: 'cover',\r\n        borderRadius: '50%'\r\n    },\r\n    commentData: {\r\n        marginLeft: 20\r\n    }\r\n});\r\n\r\nclass Comments extends Component {\r\n    render() {\r\n        const { comments, classes, authenticated, handle } = this.props;\r\n        return (\r\n            <Grid container>\r\n                {comments.map((comment, index) => {\r\n                    const { screamId, commentId, body, createdAt, userImage, userHandle, likeCount } = comment;\r\n                    const deleteButton = authenticated && userHandle === handle ? (\r\n                        <DeleteComment screamId={screamId} commentId={commentId}/>\r\n                    ) : null\r\n                    return (\r\n                        <Fragment key={createdAt}>\r\n                            <Grid item sm={12}>\r\n                                <Grid container>\r\n                                    <Grid item sm={2}>\r\n                                        <img src={userImage} alt=\"comment\" className={classes.commentImage}/>\r\n                                    </Grid>\r\n                                    <Grid item sm={9}>\r\n                                        <div className={classes.commentData}>\r\n                                            <Typography\r\n                                                variant=\"h5\"\r\n                                                component={Link}\r\n                                                to={`/users/${userHandle}`}\r\n                                                color=\"primary\">\r\n                                                    {userHandle}\r\n                                            </Typography>\r\n                                            <LikeButton2 screamId={screamId} commentId={commentId}/>\r\n                                            {likeCount} Likes\r\n                                            {deleteButton}\r\n                                            <br/>\r\n                                            <Typography variant=\"body2\" color=\"textSecondary\">\r\n                                                {dayjs(createdAt).format('h:mm a, MMMM DD YYYY')}\r\n                                            </Typography>\r\n                                            <hr className={classes.invisibleSeparator}/>\r\n                                            <Typography variant=\"body1\">{body}</Typography>\r\n                                        </div>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            {index !== comments.length - 1 && (\r\n                                <hr className={classes.visibleSeparator}/>\r\n                            )}\r\n                        </Fragment>\r\n                    )\r\n                })}\r\n            </Grid>\r\n        )\r\n    }\r\n}\r\n\r\nComment.propTypes = {\r\n    authenticated: PropTypes.bool.isRequired,\r\n    handle: PropTypes.string.isRequired,\r\n    comments: PropTypes.array.isRequired\r\n}\r\n\r\nexport default withStyles(styles)(Comments);","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\n\r\n//MUI imports\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n//redux imports\r\nimport { connect } from 'react-redux';\r\nimport { submitComment } from '../../redux/actions/dataActions';\r\n\r\nconst styles = theme => ({\r\n    ...theme.spread\r\n})\r\n\r\nexport class CommentForm extends Component {\r\n    state = {\r\n        body: '',\r\n        errors: {}\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps){\r\n        if(nextProps.UI.errors){\r\n            this.setState({errors: nextProps.UI.errors});\r\n        }\r\n        if(!nextProps.UI.errors && !nextProps.UI.loading){\r\n            this.setState({ body: '' });\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value});\r\n    }\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        this.props.submitComment(this.props.screamId, { body: this.state.body });\r\n    }\r\n\r\n    render() {\r\n        const { classes, authenticated, data: { loading2 } } = this.props;\r\n        const errors = this.state.errors;\r\n\r\n        const commentFormMarkup = authenticated ? (\r\n            <Grid item sm={12} style={{textAlign: 'center'}}>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <TextField\r\n                        name=\"body\"\r\n                        type=\"text\"\r\n                        label=\"Comment on scream\"\r\n                        error={errors.comment ? true: false}\r\n                        helperText={errors.comment}\r\n                        value={this.state.body}\r\n                        onChange={this.handleChange}\r\n                        fullWidth\r\n                        className={classes.textField}\r\n                    />\r\n                    <Button type=\"submit\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className={classes.button}\r\n                            disabled={loading2}\r\n                    >Submit {loading2 && <CircularProgress size={30} className={classes.progress}/>}</Button>\r\n                </form>\r\n                <hr className={classes.visibleSeparator}/>\r\n            </Grid>\r\n        ) : null\r\n        return commentFormMarkup;\r\n    }\r\n}\r\n\r\nCommentForm.propTypes = {\r\n    submitComment: PropTypes.func.isRequired,\r\n    UI: PropTypes.object.isRequired,\r\n    classes: PropTypes.object.isRequired,\r\n    screamId: PropTypes.string.isRequired,\r\n    authenticated: PropTypes.bool.isRequired,\r\n    data: PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    UI: state.UI,\r\n    authenticated: state.user.authenticated,\r\n    data: state.data\r\n})\r\n\r\nexport default connect(mapStateToProps, { submitComment })(withStyles(styles)(CommentForm));\r\n","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport MyButton from '../../util/MyButton';\r\nimport LikeButton from './LikeButton';\r\nimport Comments from './Comments';\r\nimport CommentForm from './CommentForm';\r\nimport dayjs from 'dayjs';\r\nimport { Link } from 'react-router-dom';\r\n\r\n//Mui imports\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\n//icons\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport UnfoldMore from '@material-ui/icons/UnfoldMore';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\n\r\n//Redux imports\r\nimport { connect } from 'react-redux';\r\nimport { getScream, clearErrors } from '../../redux/actions/dataActions';\r\n\r\nconst styles = theme => ({\r\n    ...theme.spread,\r\n    profileImage: {\r\n        maxWidth: 200,\r\n        height: 200,\r\n        borderRadius: '50%',\r\n        objectFit: 'cover'\r\n    },\r\n    DialogContent: {\r\n        padding: 20\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        left: '90%'\r\n    },\r\n    expandButton: {\r\n        position: 'absolute',\r\n        left: '90%'\r\n    },\r\n    spinnerDiv: {\r\n        textAlign: 'center',\r\n        marginTop: 50,\r\n        marginBottom: 50\r\n    }\r\n});\r\n\r\nclass ScreamDialog extends Component {\r\n    state = {\r\n        open: false,\r\n        oldPath: '',\r\n        newPath: ''\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.openDialog) {\r\n            this.handleOpen();\r\n        }\r\n    }\r\n    handleOpen = () => {\r\n        let oldPath = window.location.pathname;\r\n\r\n        const { userHandle, screamId } = this.props;\r\n        const newPath = `/users/${userHandle}/scream/${screamId}`;\r\n\r\n        if (oldPath === newPath) oldPath = `/users/${userHandle}`;\r\n\r\n        window.history.pushState(null, null, newPath);\r\n\r\n        this.setState({ open: true, oldPath, newPath });\r\n        this.props.getScream(this.props.screamId);\r\n    }\r\n    handleClose = () => {\r\n        window.history.pushState(null, null, this.state.oldPath);\r\n        this.setState({ open: false });\r\n        this.props.clearErrors();\r\n    }\r\n\r\n    render() {\r\n        const { classes, data: { scream: {\r\n            screamId,\r\n            body,\r\n            createdAt,\r\n            likeCount,\r\n            commentCount,\r\n            userImage,\r\n            userHandle,\r\n            comments } },\r\n            UI: { loading }, user: { authenticated, credentials: { handle } } } = this.props;\r\n\r\n        const dialogMarkup = loading ? (\r\n            <div className={classes.spinnerDiv}>\r\n                <CircularProgress size={200} thickness={2} />\r\n            </div>\r\n        ) : (\r\n                <Grid container spacing={16}>\r\n                    <Grid item sm={5}>\r\n                        <img src={userImage} alt=\"Profile\" className={classes.profileImage} />\r\n                    </Grid>\r\n                    <Grid item sm={7}>\r\n                        <Typography\r\n                            component={Link}\r\n                            color=\"primary\"\r\n                            variant=\"h5\"\r\n                            to={`/users/${userHandle}`}\r\n                        >\r\n                            @{userHandle}\r\n                        </Typography>\r\n                        <hr className={classes.invisibleSeparator} />\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">\r\n                            {dayjs(createdAt).format('h:mm a, MMMM DD YYYY')}\r\n                        </Typography>\r\n                        <hr className={classes.invisibleSeparator} />\r\n                        <Typography variant=\"body1\">\r\n                            {body}\r\n                        </Typography>\r\n                        <LikeButton screamId={screamId} />\r\n                        <span>{likeCount} Likes</span>\r\n                        <MyButton tip=\"comments\">\r\n                            <ChatIcon color=\"primary\" />\r\n                        </MyButton>\r\n                        <span>{commentCount} Comments</span>\r\n                    </Grid>\r\n                    <hr className={classes.visibleSeparator} />\r\n                    <CommentForm screamId={screamId} />\r\n                    <Comments authenticated={authenticated} handle={handle} comments={comments} />\r\n                </Grid>\r\n            );\r\n\r\n        return (\r\n            <Fragment>\r\n                <MyButton onClick={this.handleOpen} tip=\"Expand scream\" tipClassName={classes.expandButton}>\r\n                    <UnfoldMore color=\"primary\" />\r\n                </MyButton>\r\n                <Dialog open={this.state.open} onClose={this.handleClose} fullWidth maxWidth=\"sm\">\r\n                    <MyButton tip=\"Close\" onClick={this.handleClose} tipClassName={classes.closeButton}>\r\n                        <CloseIcon />\r\n                    </MyButton>\r\n                    <DialogContent className={classes.dialogContent}>\r\n                        {dialogMarkup}\r\n                    </DialogContent>\r\n                </Dialog>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nScreamDialog.propTypes = {\r\n    clearErrors: PropTypes.func.isRequired,\r\n    getScream: PropTypes.func.isRequired,\r\n    screamId: PropTypes.string.isRequired,\r\n    userHandle: PropTypes.string.isRequired,\r\n    data: PropTypes.object.isRequired,\r\n    UI: PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    data: state.data,\r\n    UI: state.UI\r\n})\r\n\r\nconst mapActionsToProps = {\r\n    getScream,\r\n    clearErrors\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(ScreamDialog))","import React, { Component } from 'react'\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport { Link } from 'react-router-dom';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport PropTypes from 'prop-types';\r\nimport MyButton from '../../util/MyButton';\r\nimport DeleteScream from './DeleteScream';\r\nimport ScreamDialog from './ScreamDialog';\r\nimport LikeButton from './LikeButton';\r\n\r\n//Mui imports\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n//Icons\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\n\r\n//Redux\r\nimport { connect } from 'react-redux';\r\n\r\nconst styles = {\r\n    card: {\r\n        position: 'relative',\r\n        display: 'flex',\r\n        marginBottom: 20\r\n    },\r\n    image: {\r\n        minWidth: 200\r\n    },\r\n    content: {\r\n        padding: 25,\r\n        objectFit: 'cover'\r\n    }\r\n};\r\n\r\nclass Scream extends Component {\r\n    render() {\r\n        dayjs.extend(relativeTime);\r\n        const { classes, scream : { body, createdAt, userImage, userHandle, screamId, likeCount, commentCount },\r\n                user: { authenticated, credentials: { handle } } } = this.props;\r\n        \r\n        const deleteButton = authenticated && userHandle === handle ? (\r\n            <DeleteScream screamId={screamId}/>\r\n        ) : null\r\n        return (\r\n            <Card className={classes.card}>\r\n                <CardMedia\r\n                image={userImage}\r\n                title=\"Profile image\" className={classes.image}/>\r\n                <CardContent className={classes.content}>\r\n                    <Typography variant=\"h5\" component={Link} to={`/users/${userHandle}`} color='primary'>{userHandle}</Typography>\r\n                    {deleteButton}\r\n                    <Typography variant=\"body2\" color=\"textSecondary\">\r\n                        {dayjs(createdAt).fromNow()}\r\n                    </Typography>\r\n                    <Typography variant=\"body1\">{body}</Typography>\r\n                    <LikeButton screamId={screamId}/>\r\n                    <span>{likeCount} Likes</span>\r\n                    <MyButton tip=\"comments\">\r\n                        <ChatIcon color=\"primary\"/>\r\n                    </MyButton>\r\n                    <span>{commentCount} Comments</span>\r\n                    <ScreamDialog screamId={screamId} user={this.props.user} openDialog={this.props.openDialog}/>\r\n                </CardContent>\r\n            </Card>\r\n        );\r\n    }\r\n}\r\n\r\nScream.propTypes = {\r\n    user: PropTypes.object.isRequired,\r\n    scream: PropTypes.object.isRequired,\r\n    classes: PropTypes.object.isRequired,\r\n    openDialog: PropTypes.bool\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    user: state.user\r\n})\r\n\r\nexport default connect(mapStateToProps)(withStyles(styles)(Scream));\r\n","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport MyButton from '../../util/MyButton';\r\n\r\n// Redux imports\r\nimport { connect } from 'react-redux';\r\nimport { editUserDetails } from '../../redux/actions/userActions';\r\n\r\n// Mui imports\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\n// Icons\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\nconst styles = (theme) => ({\r\n    ...theme.spread,\r\n    button: {\r\n        float: 'right'\r\n    }\r\n});\r\n\r\nclass EditDetails extends Component {\r\n    state = {\r\n        bio: '',\r\n        website: '',\r\n        location: '',\r\n        open: false\r\n    };\r\n\r\n    handleOpen = () => {\r\n        this.setState({ open: true });\r\n        this.mapUserDetailsToState(this.props.credentials);\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    }\r\n\r\n    componentDidMount(){\r\n        const { credentials } = this.props;\r\n        this.mapUserDetailsToState(credentials);\r\n    }\r\n\r\n    mapUserDetailsToState = (credentials) => {\r\n        this.setState({\r\n            bio: credentials.bio ? credentials.bio : '',\r\n            website: credentials.website ? credentials.website : '',\r\n            location: credentials.location ? credentials.location : ''\r\n        });\r\n    }\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    };\r\n    handleSubmit = () => {\r\n        const userDetails = {\r\n            bio: this.state.bio,\r\n            website: this.state.website,\r\n            location: this.state.location\r\n        };\r\n        this.props.editUserDetails(userDetails);\r\n        this.handleClose();\r\n    }\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <Fragment>\r\n                <MyButton tip=\"Edit Details\" onClick={this.handleOpen} btnClassName={classes.button}>\r\n                    <EditIcon color=\"primary\"/>\r\n                </MyButton>\r\n                <Dialog open={this.state.open} onClose={this.handleClose} fullWidth maxWidth=\"sm\">\r\n                    <DialogTitle>Edit your details</DialogTitle>\r\n                    <DialogContent>\r\n                        <form>\r\n                            <TextField name=\"bio\" type=\"text\" label=\"Bio\" multiline rows=\"3\" \r\n                                placeholder=\"A short bio about yourself\" className={classes.textField}\r\n                                value={this.state.bio} onChange={this.handleChange} fullWidth/>\r\n                            <TextField name=\"website\" type=\"text\" label=\"Website\"  \r\n                                placeholder=\"Your personal/professional website\" className={classes.textField}\r\n                                value={this.state.website} onChange={this.handleChange} fullWidth/>\r\n                            <TextField name=\"location\" type=\"text\" label=\"Location\"  \r\n                                placeholder=\"Where you live\" className={classes.textField}\r\n                                value={this.state.location} onChange={this.handleChange} fullWidth/>\r\n                        </form>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose} color=\"primary\">\r\n                            Cancel\r\n                        </Button>\r\n                        <Button onClick={this.handleSubmit} color=\"primary\">\r\n                            Save\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nEditDetails.propTypes = {\r\n    editUserDetails: PropTypes.func.isRequired,\r\n    classes: PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    credentials: state.user.credentials\r\n})\r\n\r\nexport default connect(mapStateToProps, { editUserDetails })(withStyles(styles)(EditDetails));\r\n","export default __webpack_public_path__ + \"static/media/no-img.c3f94521.png\";","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport NoImg from '../images/no-img.png';\r\n\r\n//Mui imports\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\n// Icons\r\nimport LocationOn from '@material-ui/icons/LocationOn';\r\nimport LinkIcon from '@material-ui/icons/Link';\r\nimport CalendarToday from '@material-ui/icons/CalendarToday';\r\n\r\nconst styles = theme => ({\r\n    ...theme.spread,\r\n    handle: {\r\n        height: 20,\r\n        backgroundColor: theme.palette.primary.main,\r\n        width: 60,\r\n        margin: '0 auto 7px auto'\r\n    },\r\n    fullLine: {\r\n        height: 15,\r\n        backgroundColor: 'rgba(0,0,0, 0.6)',\r\n        width: '100%',\r\n        marginBottom: 10\r\n    },\r\n    halfLine: {\r\n        height: 15,\r\n        backgroundColor: 'rgba(0,0,0, 0.6)',\r\n        width: '50%',\r\n        marginBottom: 10\r\n    }\r\n})\r\n\r\nconst ProfileSkeleton = (props) => {\r\n    const { classes } = props;\r\n    return (\r\n        <Paper className={classes.paper}>\r\n            <div className={classes.profile}>\r\n                <div className=\"image-wrapper\">\r\n                    <img src={NoImg} alt=\"profile\" className=\"profile-image\"/>\r\n                </div>\r\n                <hr/>\r\n                <div className=\"profile-details\">\r\n                    <div className={classes.handle}/>\r\n                    <hr/>\r\n                    <div className={classes.fullLine}/>\r\n                    <div className={classes.fullLine}/>\r\n                    <hr/>\r\n                    <LocationOn color=\"primary\"/> <span>Location</span>\r\n                    <hr/>\r\n                    <LinkIcon color=\"primary\"/> https://website.com\r\n                    <hr/>\r\n                    <CalendarToday color=\"primary\"/> Joined date\r\n                </div>\r\n            </div>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nProfileSkeleton.propTypes = {\r\n    classes: PropTypes.object.isRequired\r\n}\r\n\r\nexport default withStyles(styles)(ProfileSkeleton);\r\n","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport { Link } from 'react-router-dom';\r\nimport dayjs from 'dayjs';\r\nimport EditDetails from './EditDetails';\r\nimport MyButton from '../../util/MyButton';\r\nimport ProfileSkeleton from '../../util/ProfileSkeleton';\r\n\r\n//MUI imports\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport MuiLink from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n// Redux imports\r\nimport { connect } from 'react-redux';\r\nimport { logoutUser, uploadImage } from '../../redux/actions/userActions';\r\n\r\n// Icons\r\nimport LocationOn from '@material-ui/icons/LocationOn';\r\nimport LinkIcon from '@material-ui/icons/Link';\r\nimport CalendarToday from '@material-ui/icons/CalendarToday';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport KeyboardReturn from '@material-ui/icons/KeyboardReturn';\r\n\r\nconst styles = (theme) => ({\r\n  ...theme.spread\r\n});\r\n\r\nclass Profile extends Component {\r\n  handleImageChange = (event) => {\r\n    const image = event.target.files[0];\r\n    let formData = new FormData();\r\n    formData.append('image', image, image.name);\r\n    this.props.uploadImage(formData);\r\n  };\r\n  handleEditPicture = () => {\r\n    const fileInput = document.getElementById('imageInput');\r\n    fileInput.click();\r\n  };\r\n  handleLogout = () => {\r\n      this.props.logoutUser();\r\n  };\r\n  render() {\r\n      const { classes, user: { credentials: { handle, createdAt, imageUrl, bio, website, location }, \r\n              loading,\r\n              authenticated\r\n          }\r\n      } = this.props;\r\n\r\n      let profileMarkup = !loading ? (authenticated ? (\r\n          <Paper className={classes.paper}>\r\n              <div className={classes.profile}>\r\n                  <div className=\"image-wrapper\">\r\n                      <img src={imageUrl} alt=\"profile\" className=\"profile-image\"/>\r\n                      <input type=\"file\" id=\"imageInput\" hidden=\"hidden\" onChange={this.handleImageChange}/>\r\n                      <MyButton tip=\"Edit profile picture\" onClick={this.handleEditPicture} btnClassName=\"button\">\r\n                          <EditIcon color=\"primary\"/>\r\n                      </MyButton>\r\n                  </div>\r\n                  <hr/>\r\n                  <div className=\"profile-details\">\r\n                      <MuiLink component={Link} to={`/users/${handle}`} color=\"primary\" variant=\"h5\">\r\n                          @{handle}\r\n                      </MuiLink>\r\n                      <hr/>\r\n                      {bio && <Typography variant=\"body2\">{bio}</Typography>}\r\n                      <hr/>\r\n                      {location && (\r\n                          <Fragment>\r\n                              <LocationOn color=\"primary\"/> <span>{location}</span>\r\n                              <hr/>\r\n                          </Fragment>\r\n                      )}\r\n                      {website && (\r\n                          <Fragment>\r\n                              <LinkIcon color=\"primary\"/>\r\n                              <a href={website} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                  {'  '}{website}\r\n                              </a>\r\n                              <hr/>\r\n                          </Fragment>\r\n                      )}\r\n                      <CalendarToday color=\"primary\"/>{'  '}\r\n                      <span>Joined {dayjs(createdAt).format('MMM YYYY')}</span>\r\n                  </div>\r\n                    <MyButton tip=\"Logout\" onClick={this.handleLogout}>\r\n                        <KeyboardReturn color=\"primary\"/>\r\n                    </MyButton>\r\n                  <EditDetails/>\r\n              </div>\r\n          </Paper>\r\n      ) : (\r\n          <Paper className={classes.paper}>\r\n              <Typography variant=\"body2\" align=\"center\">\r\n                  No profile found, please login again\r\n              </Typography>\r\n              <div className={classes.buttons}>\r\n                  <Button variant=\"contained\" color=\"primary\" component={Link} to=\"/login\">\r\n                      Login\r\n                  </Button>\r\n                  <Button variant=\"contained\" color=\"secondary\" component={Link} to=\"/signup\">\r\n                      Signup\r\n                  </Button>\r\n              </div>\r\n          </Paper>\r\n      )) : (\r\n          <ProfileSkeleton/>\r\n      )\r\n\r\n      return profileMarkup;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    user: state.user\r\n});\r\n\r\nconst mapActionsToProps = { logoutUser, uploadImage };\r\n\r\nProfile.propTypes = {\r\n  logoutUser: PropTypes.func.isRequired,\r\n  uploadImage: PropTypes.func.isRequired,\r\n  user: PropTypes.object.isRequired,\r\n  classes: PropTypes.object.isRequired\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(Profile))\r\n","import React, { Fragment } from 'react';\r\nimport NoImg from '../images/no-img.png';\r\nimport PropTypes from 'prop-types';\r\n\r\n//Mui imports\r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\n\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\n\r\nconst styles = theme => ({\r\n    ...theme.spread,\r\n    card: {\r\n        display: 'flex',\r\n        marginBottom: 20\r\n    },\r\n    cardContent: {\r\n        width: '100%',\r\n        flexDirection: 'column',\r\n        padding: 25\r\n    },\r\n    cover: {\r\n        minWidth: 200,\r\n        objectFit: 'cover'\r\n    },\r\n    handle: {\r\n        width: 60,\r\n        height: 18,\r\n        backgroundColor: theme.palette.primary.main,\r\n        marginBottom: 7\r\n    },\r\n    date: {\r\n        height: 14,\r\n        width: 100,\r\n        backgroundColor: 'rgba(0,0,0, 0.3)',\r\n        marginBottom: 10\r\n    },\r\n    fullLine: {\r\n        height: 15,\r\n        width: '90%',\r\n        backgroundColor: 'rgba(0,0,0, 0.6)',\r\n        marginBottom: 10\r\n    },\r\n    halfLine: {\r\n        height: 15,\r\n        width: '50%',\r\n        backgroundColor: 'rgba(0,0,0, 0.6)',\r\n        marginBottom: 10\r\n    }\r\n});\r\n\r\nconst ScreamSkeleton = (props) => {\r\n    const { classes } = props;\r\n    \r\n    const content = Array.from({ length: 5 }).map((item, index) => (\r\n        <Card className={classes.card} key={index}>\r\n            <CardMedia className={classes.cover} image={NoImg}/>\r\n            <CardContent className={classes.cardContent}>\r\n                <div className={classes.handle}/>\r\n                <div className={classes.date}/>\r\n                <div className={classes.fullLine}/>\r\n                <div className={classes.fullLine}/>\r\n                <div className={classes.halfLine}/>\r\n            </CardContent>\r\n        </Card>\r\n    ))\r\n\r\n    return <Fragment>{content}</Fragment>\r\n}\r\n\r\nScreamSkeleton.propTypes = {\r\n    classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(ScreamSkeleton);","import React, { Component } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Scream from '../components/scream/Scream';\r\nimport Profile from '../components/profile/Profile';\r\nimport ScreamSkeleton from '../util/ScreamSkeleton';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { getScreams } from '../redux/actions/dataActions';\r\n\r\nexport class home extends Component {\r\n    componentDidMount(){\r\n        this.props.getScreams();\r\n    }\r\n    render() {\r\n        const { screams, loading } = this.props.data;\r\n        let recentScreamsMarkup = !loading ? (\r\n            screams.map(scream => <Scream key={scream.screamId} scream={scream}/>)\r\n        ) : (\r\n            <ScreamSkeleton/>\r\n        );\r\n        return (\r\n            <Grid container spacing={10}>\r\n                <Grid item sm={8} xs={12}>\r\n                    {recentScreamsMarkup}\r\n                </Grid>\r\n                <Grid item sm={4} xs={12}>\r\n                    <Profile/>\r\n                </Grid>\r\n            </Grid>\r\n        );\r\n    }\r\n}\r\n\r\nhome.propTypes = {\r\n    getScreams: PropTypes.func.isRequired,\r\n    data: PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    data: state.data\r\n})\r\n\r\nexport default connect(mapStateToProps, { getScreams })(home);\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAwFBMVEX52yz///8AAAD/5C7/4i3/5S783i3/4C3WvCb8/Pzhxij19fXBqiLMzMzDw8PAwMCwmx/T09PHryPy1StLQg3n5+eIiIiYmJg1LwmGdhhnWxKlkR3myinf3988PDwkIAZ4ahVNTU1dXV2dihy1tbWumR+ioqJaWlpjY2MvKQjYviZSSA49NgtwYxQYFQQLCwsQDgOQfhklJSV2dnY0NDRiVhFIPw0eGgWcnJwcHBwrJghaTxC5oyGUghqAcRc0Lgm3q5GTAAAQK0lEQVR4nOWd6UKjOhSAsYRQW7uidrHaaketVUcdR2frjO//VpcCWQmQhKRQ7/l35wrka5KTsyQnzsFnF2dXH2q3zweDTrfb63Y7g8F5u72rD9smPDzv3pyuLp4aaXm6WJ3edM8PLbfAIuFJb3QlIkvJ1ah3Yq8ZdggPB6NbGTZKbkcdO71pgXDw81KRDsnlaGC+OYYJD3uvmnRIXnuGu9IoYW9VEi+WlVFIc4Sdsr1Hy2vHWLsMEbZHMu1+nt+Nx+O7+bPMH48MrZhGCAd5o/Pr8WLZHzZngeMScYJgPewvF/dfc55cGdE7Bgi/fM9q4v1ks3YAAL4PocMLhL4f/j9nvXm5z3rB9y81ILzJ6LlFv7VlS5OlSENOt9Vf/BC/6KZiQjHftD9zZeAYTHfWn9pgLEX4RWSUTYZQjY6i9JsTkRYqNVZLEHZ+CfCaHtChw5TAa07Sr/3VrYDwJG2aTYegFB6CBMP0cL3Uts11CU/5JjwvA7c8HoIMlqnRerpTwh7/+eMjFxjCi8V3j475j/R2RtjmPaO3pmeq+4hAb/3GfedWx8zRIPzCT7+WseHJMbotfkJqaFVlwsMrrv9s8SWMXD+qd6MqYYf94ION8ckwes139pOqXociIadCNxb7DzO6R+xHFZWqEmH7gvnUi+9b59uK778w371QGqkqhAPmO8czs+tDnoAZu3SouFUKhKyVfW15ArICvWvm6wrWuDwhE6S4D3bXgbGAgPEiX80TMmbo2Q40DC/QO6ObcGmYsP2Nevm8tesOjAW05lQrvknqGznCE/rXezTgQOgJBI90Q+TcDSnCc/q9fa8ivq14fbop56YImVViXc0IRQLWdGNkVg0JQtpQewiqGqFIYPBAtUfChCsmpAGnWgEYw4j+VAmxkJAeopMqpyARj47kFA7UIkJayZzVAzBEpFfGInVTQEgvE323ajIs7oZqV8GikU/Ypl50VK0SZQXQHlX+0p9PSFkywzoBhohD0rRv+oSXtQVkES91CSlvolZDNBZ6oOZ5GjmElD+4qR9giEipmxx/MZuQWgjP6qNFaXGpRSN7WcwkpNRoTRb6tNBLf6ZCzSQkQadpXQFDRGLAXagSkrDhw24CanriEzM8K8iYQUiZ25V7E3kCA9LQDCNcTHhInlvXGTBEpPxF8T4jMSFJLvXruE7QAojXfytPSLJLj/XVMkg8ErsRZqZEhGShmNe9B7cCSAROtGSICMkYbdV7EsYCW7njVEBIUthn+9CFYScS20aQCBcQ4j+/r6exlhaXBPxlCMlaX+uVkBZqVUyv+ylCEre43o8xuhVAMlOpmEaKEHu9x/VfKIh4OL94WUTYxT/GbF/G6FbgDLeb3yDGE+K9ai/7M0a3AnAi/Fc+IbFm6uxRiMTHLf+SS4j/7GjvCElMI48Qh2be92UpJOJiV/EmhxD/DM19UjOxwKa4ExlC3IVv+7RSIPHehJ3IEOIfYS8sbl4oCzyLECvS6f7Nwq24OC71JYPw+153Id2J38WEOAT8tp9dGHYinokDISE+2lPz4FO2kLDUSkSIYxd7ZXKzQgzwtoAQnz472tcuDDsR56NGAkL0/553Mwuh4LBXeXHxIYY0IY5yL9UtUgBUj5JAdzacWfgp/SXC6KQIcTo0UH5rMHlu3CvtlQKt7ebtP475bsTxjNcUIV7tVf1CkNiDCt4IylDfmSckqz5PiEOIQ8Wv+tjglQ5ckUfMu9kQp/d7HCFeDBW/SYW5FrKPUvki5SlRKAC9esUS4mTTRJHQpbaYyz5C7Us7M+5oA5wXPmQI8SBVdAx9enNSX6q5lB8XWhfG9Sl5fY8hRJr0SdGeAfQhukep/veYMzA6EAXvR69+ZQg1BynThY25TIdAZgusBRuYDFOaELsViprUfWCaK9WABfOIeRORaNMBRfgT/aPaxKe86khmMs+wj5hXNeQLPylCFMqXm0lY/L9scyWGHOSOaWnYiEUCkK6+JIR4rZDThuRd3ME5CUUM/lkn9HFm/xATYqtbMVcRsK2VIvxtnZDkMAaYELmGP9RWJzhkWysT3+F/FAvz0HFRAYoRJkSJe2m7KxbiqiRSbIOlfpSNBUKsrm8xIfqc6jR85Jpb/Ih/zT2iaujLCJmIiBCnfRWjiIBdDRtfiwc54EtC2MhSkkXsJCHERqmi1e1xrf1T/Hyq262kuLB/0UsIkaK5V/UruNZKeHvgD/vIsZU8LEB7M0YJ4VXy36qek8MRSlhggCsF8dcOIZoLVwkhqjKjqtd4zS/hzvKENhQNpWqeYkJs0Sjb+WxrZbKqgCsJZWezAPFfDiNCfLRJ9UXcPJRZvAFb6ELRDpYWPLrOI0K0weSr6uc4QhnFz60WdgZp+BlUJK0bEaLMr7JeY4ecVMaKXfF/29rRgqf7TUSINrIp2mx8h0hFeJggjaoNpdAyZLedRoQokKhs5jO+nmRMyacesdaFxGJeRYToZIX6L0ovF5IWH23U2NvwgZeLi4gQLYfq055qruzSTQWi/tlLcmEX5ikiRF9UD3sRX1Pe4MOZaFUbUalh+HfcEuLcr0aEHSTj/V3lx4k1+R+reVj807dLEjpehKiUYIFOOLbvLFdmCGhCbZMmEhBsjlQruQAYuLY3BiKo85AQR4M1J76VbHVZwebWgCLcUf5+N4Lz+VtCFEqUyjrsi7joHE0nJESG992nIrxLqLoU4fhTEY4pQhSHevhUhCgM2Ptf9OHnn4efX5d+/vWwrE1TS2FsmnJ2aV2FtktL+RZ1Fca3+JSEjH9YwsevrbA+fmGcph7uEQQKLiUXpymItYGjOhyCguu5QpUcLtaWGy+Fzrut/ImSbBMeE2lELl6aG/OOyqPUoBOjfLN0MScu5p2Xt3CjiOh15cctk7il7DZkLm+Rk3vy4xlb/ZngJN8he2qQyz3lGDXJJjhbaT55QSkS2fmCkM4LcsDogPRb5YRoI6ucm87ngDPz+Dhob2fHhIpg9S+1H5XP42fuxfDQ1pDqAxy4zR8yTUntxcjYT0P2oElsdrIsEG+3lulErEpH+XuiwAf69+orSJBfeyyhTlN7ojL2tbnkFq1l1RORSjcXpznT+9oy9iZSOyUrrxdFbS0uVgrpvYlZ+0tBE9eYqrqeEr3/vdDLE+wvzdojDMEG7eSudiYym1QKh6lgj3D2Pm/fm11H25geKu1EQF+TWPTHon3eeXv1oR/Xlq5S2fh0Nf1Cw020Vx+ftxAfr4xPKlUY5KBm4V2r0M8RnbcoODMTnzF8Nt9ySXHxQaLffYnzxsIzMwXnnuKKvVUVPME7xRZNmViN+NxT0dm1uPpiRVMRblXjc38teV5cfHaNnOTO6Cc/WhmHVfj6XjRGh9LH4TPOHxadIU00cAWroh/Za4/Stn/WGdLCc8DxVJzvnDA5SS3/QNY54OKz3F7k79vcjCaU+NRKU+GsPwLhznJLnMeP/eHFbhVqPAlf5P3T7PP4EjUVYHSw7u8uEeOKj+8KAye7poJEXYxkSuywBH1SfEGlymhOXQyJ2iZ+7Fnu7BqBRIGvFdaovNomMvVpkoodO7oKAgZREFCp3nZefRqpGkPJhQs7QYRONO+Vri3IrzEkVScqqQ++C0QYrRNqpePy60TJ1fpK7pTYWFc3/ruqGqXtGWGtL8l6bcldS5bvfoIwAhwrlngoqNcmWXMv6cUXm4jQiYbob7UyS4U192TrJrrxXLR4DSIMom1pPxTLbRfXTZStfZnc0vNuoZBVJP4s0vlzRUDShU8HWYSy9UuT4lfPdm7rTN4+Vv0BcSIpp36pdA3axLppbCxMxuRe3HfVTS5SNWhJJxaFzmEQb1FdmJ6M0I/DTspF1STrCJNOLDr1jO5Z/DB7szOYxQkv+Y0lSCRrQavU83YTI/fM4OXO3kZ79MvW81apyY6K7Rm7oNt3EnWvcZurdE12pbr6fpBorzMTsxGiDrzXWIWouvr8pUjl7kZAN599NEsPVTBLfq6ljslLSqRd8kAl77cAs0SDTcsNVeAko2yudd+w0v0WineUQHzJyz/969Z9nB+caF3Hq3ZHifI9M3h4NSaB1nwE4DpJD35oXhiteM+M8l1B0BuibPiipXp0EoIAh1Z076RXvitI/b4nSObB8QbKdyT03SbOnE10R7n6fU86d3b5kFTF+td0ZSAh8GZLXNvsUV9TadzZpXXvGqAYG/+OnFxK6AO/+XeM/34x0xygjt69a2Snm1IsD/h9qjTW8d9h4ALgsy4CDNmA5zTP3shfNl70NFTyVbJQXAlZjN5/SE+rrTy/vVwPWwHw3Eg8ELSG/b/TOf039+HE1cbTv/9Q+w7LUM1s6O5BMv/9+4fgn8fLmVcq66p9h2WZe0h94GwWTwIcXv6czVytBZ7+mPY9pOXukoUAtK4fRZ2G5G3ZhKAsXrm7ZMveBxxqlFCh9F+mYxbt421yNgw8A3RO2fuATdzpvFWcrusEs1az2VyvZ4EDIvVqAG4rJe90Zu7lLnnfKkzEEFkipe/l/h/crU55w9v9LFUTcQKoSqiXeRC5hAffaotIA37LZcgnpBRqvQYqPUSz1agEIRXTCNVN5WcSsLh0LfhU3EKJkByKaljPGcqLRy0T26NNpQjpZVFr6bcg9EKfsxDKEtJGeGNqbLXWF5RPiCXD3FYiZBAfKr8jGAYPSoAyhMxA1Ym4mxTAXB5ROEQlCRl107iucjJ6THXQIiUjT8gsGo3HyiYj9Jli2QXLhBLhQZuybhpzO9ntQgEtOv7xLX+hVyVkbFT92G0ZgcwqmG+LahHSnkajcayfpNAUEDA1ffO8CV1C2l+MFM4uuxGyKibPHyxByK4ajXezGfxcATO20rnMKqFDeNC+YL7z4u/m/IXvvzDfvZDUMRqEdJAxks0ONA5kHIlGdtjQDCFjwoXyUD69XcDnNbnreiQMtVKEB4dX7Af/tCz2I3RbXAT9Shy6N0lIZ6ZimdpiDPmm3LeE2SXjhAdtrhsbbzbGKvTWfAbkVknFlCCkE+GJHB+5ZtcO3z065j8iSGFbI0wp1UbjeRkYG6zb5P4z/wFFFVqa8ODkkm9CYzpUvTRXjAeG/PQLzVA5R8IkYbhw/Eq1ozFpeqUgIXCb/IVJofzq6jezBGGoVUVpwslQM2+2Te4PJ6nR2dDSoIYIeWscD9f+zFWjDOncWT89OLeiYGVbIAwZxener4t+C0hl0rYpONDqLzISqiX5DBCGS8d3cdvCNWTSbwZbTl+QWYPQ37I5683kPusF30uNT2OEoVu1ymritjePF8v+sDkLHJeIEwTrYX+5uP+a8+RKxUnKFCOEoZkzymkpluf53Xg8vpuLtElKRjoGjEAMEYbSeS1utbS8qnoQ2WKOMJRe3miVl5WeeZYhRglD36pXtidfe8r+Ub4YJtzK4GfaoJOTy5ER3cKKBcJQDgej22IgRm5HHcOdl4gdwkhOeqMrgemakqerUU/bri4Wi4SRHJ53b05XFyLD5+lidXrTPbfTc0RsE2Jpt88Hg0632+t2O4PBedvQalcsOyOsTP4D4sIiI6BposwAAAAASUVORK5CYII=\"","import React, { Component } from 'react'\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport PropTypes from 'prop-types';\r\nimport AppIcon from '../images/smiley.png';\r\nimport { Link } from 'react-router-dom';\r\n\r\n//Mui imports\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n//Redux imports\r\nimport { connect } from 'react-redux';\r\nimport { loginUser } from '../redux/actions/userActions';\r\n\r\nconst styles = (theme) => ({\r\n    ...theme.spread\r\n})\r\n\r\nexport class login extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            errors: {}\r\n        };\r\n    }\r\n    componentWillReceiveProps(nextProps){\r\n        if(nextProps.UI.errors){\r\n            this.setState({ errors: nextProps.UI.errors });\r\n        }\r\n    }\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        const userData = {\r\n            email: this.state.email,\r\n            password: this.state.password\r\n        };\r\n        this.props.loginUser(userData, this.props.history);\r\n    }\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n    render() {\r\n        const { classes, UI: { loading } } = this.props;\r\n        const { errors } = this.state;\r\n\r\n        return (\r\n            <Grid container className={classes.form}>\r\n                <Grid item sm/>\r\n                <Grid item sm>\r\n                    <img src={AppIcon} alt=\"smiley\" className={classes.image}/>\r\n                    <Typography variant=\"h2\" className={classes.pageTitle}>\r\n                        Login\r\n                    </Typography>\r\n                    <form noValidate onSubmit={this.handleSubmit}>\r\n                        <TextField id='email' name='email' type='email' label=\"Email\" className={classes.textField} \r\n                            helperText={errors.email} error={errors.email ? true : false} \r\n                            value={this.state.email} onChange={this.handleChange} fullWidth/>\r\n                        <TextField id='password' name='password' type='password' label=\"Password\" className={classes.textField} \r\n                            helperText={errors.password} error={errors.password ? true : false}\r\n                            value={this.state.password} onChange={this.handleChange} fullWidth/>\r\n                        {errors.general && (\r\n                            <Typography variant=\"body2\" className={classes.customError}>\r\n                                {errors.general}\r\n                            </Typography>\r\n                        )}\r\n                        <Button type=\"submit\" variant=\"contained\" color=\"primary\" className={classes.button} disabled={loading}>\r\n                            Login\r\n                            {loading && (\r\n                                <CircularProgress size={30} className={classes.progress}/>\r\n                            )}\r\n                        </Button>\r\n                        <br/>\r\n                        <small>Don't have an account? Sign up <Link to=\"/signup\">here</Link></small>\r\n                    </form>\r\n                </Grid>\r\n                <Grid item sm/>\r\n            </Grid>\r\n        )\r\n    }\r\n}\r\n\r\nlogin.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    loginUser: PropTypes.func.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n    UI: PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    user: state.user,\r\n    UI: state.UI\r\n});\r\n\r\nconst mapActionsToProps = {\r\n    loginUser\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(login));\r\n","import React, { Component } from 'react'\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport PropTypes from 'prop-types';\r\nimport AppIcon from '../images/smiley.png';\r\nimport { Link } from 'react-router-dom';\r\n\r\n//Mui imports\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n//Redux imports\r\nimport { connect } from 'react-redux';\r\nimport { signupUser } from '../redux/actions/userActions';\r\n\r\nconst styles = (theme) => ({\r\n    ...theme.spread\r\n})\r\n\r\nexport class signup extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            confirmPassword: '',\r\n            handle: '',\r\n            errors: {}\r\n        }\r\n    }\r\n    componentWillReceiveProps(nextProps){\r\n        if(nextProps.UI.errors){\r\n            this.setState({ errors: nextProps.UI.errors });\r\n        }\r\n    }\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        this.setState({\r\n            loading: true\r\n        });\r\n        const newUserData = {\r\n            email: this.state.email,\r\n            password: this.state.password,\r\n            confirmPassword: this.state.confirmPassword,\r\n            handle: this.state.handle\r\n        };\r\n        this.props.signupUser(newUserData, this.props.history);\r\n    }\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n    render() {\r\n        const { classes, UI: { loading } } = this.props;\r\n        const { errors } = this.state;\r\n\r\n        return (\r\n            <Grid container className={classes.form}>\r\n                <Grid item sm/>\r\n                <Grid item sm>\r\n                    <img src={AppIcon} alt=\"smiley\" className={classes.image}/>\r\n                    <Typography variant=\"h2\" className={classes.pageTitle}>\r\n                        Signup\r\n                    </Typography>\r\n                    <form noValidate onSubmit={this.handleSubmit}>\r\n                        <TextField id='email' name='email' type='email' label=\"Email\" className={classes.textField} \r\n                            helperText={errors.email} error={errors.email ? true : false} \r\n                            value={this.state.email} onChange={this.handleChange} fullWidth/>\r\n                        <TextField id='password' name='password' type='password' label=\"Password\" className={classes.textField} \r\n                            helperText={errors.password} error={errors.password ? true : false}\r\n                            value={this.state.password} onChange={this.handleChange} fullWidth/>\r\n                        <TextField id='confirmPassword' name='confirmPassword' type='password' label=\"Confirm Password\" className={classes.textField} \r\n                            helperText={errors.confirmPassword} error={errors.confirmPassword ? true : false}\r\n                            value={this.state.confirmPassword} onChange={this.handleChange} fullWidth/>\r\n                        <TextField id='handle' name='handle' type='text' label=\"Handle\" className={classes.textField} \r\n                            helperText={errors.handle} error={errors.handle ? true : false}\r\n                            value={this.state.handle} onChange={this.handleChange} fullWidth/>\r\n                        {errors.general && (\r\n                            <Typography variant=\"body2\" className={classes.customError}>\r\n                                {errors.general}\r\n                            </Typography>\r\n                        )}\r\n                        <Button type=\"submit\" variant=\"contained\" color=\"primary\" className={classes.button} disabled={loading}>\r\n                            Signup\r\n                            {loading && (\r\n                                <CircularProgress size={30} className={classes.progress}/>\r\n                            )}\r\n                        </Button>\r\n                        <br/>\r\n                        <small>Already have an account? Log in <Link to=\"/login\">here</Link></small>\r\n                    </form>\r\n                </Grid>\r\n                <Grid item sm/>\r\n            </Grid>\r\n        )\r\n    }\r\n}\r\n\r\nsignup.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n    UI: PropTypes.object.isRequired,\r\n    signupUser: PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    user: state.user,\r\n    UI: state.UI\r\n})\r\n\r\nexport default connect(mapStateToProps, { signupUser })(withStyles(styles)(signup));\r\n","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport dayjs from 'dayjs';\r\nimport { Link } from 'react-router-dom';\r\n\r\n//MUI imports\r\nimport MuiLink from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n//icons\r\nimport LocationOn from '@material-ui/icons/LocationOn';\r\nimport LinkIcon from '@material-ui/icons/Link';\r\nimport CalendarToday from '@material-ui/icons/CalendarToday';\r\n\r\nconst styles = (theme) => ({\r\n    ...theme.spread\r\n});\r\n\r\nconst StaticProfile = (props) => {\r\n    const { classes, profile: { handle, createdAt, imageUrl, bio, website, location }} = props;\r\n\r\n    return (\r\n        <Paper className={classes.paper}>\r\n              <div className={classes.profile}>\r\n                  <div className=\"image-wrapper\">\r\n                      <img src={imageUrl} alt=\"profile\" className=\"profile-image\"/>\r\n                  </div>\r\n                  <hr/>\r\n                  <div className=\"profile-details\">\r\n                      <MuiLink component={Link} to={`/users/${handle}`} color=\"primary\" variant=\"h5\">\r\n                          @{handle}\r\n                      </MuiLink>\r\n                      <hr/>\r\n                      {bio && <Typography variant=\"body2\">{bio}</Typography>}\r\n                      <hr/>\r\n                      {location && (\r\n                          <Fragment>\r\n                              <LocationOn color=\"primary\"/> <span>{location}</span>\r\n                              <hr/>\r\n                          </Fragment>\r\n                      )}\r\n                      {website && (\r\n                          <Fragment>\r\n                              <LinkIcon color=\"primary\"/>\r\n                              <a href={website} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                  {'  '}{website}\r\n                              </a>\r\n                              <hr/>\r\n                          </Fragment>\r\n                      )}\r\n                      <CalendarToday color=\"primary\"/>{'  '}\r\n                      <span>Joined {dayjs(createdAt).format('MMM YYYY')}</span>\r\n                  </div>\r\n              </div>\r\n          </Paper>\r\n    )\r\n}\r\n\r\nStaticProfile.propTypes = {\r\n    profile: PropTypes.object.isRequired,\r\n    classes: PropTypes.object.isRequired\r\n}\r\n\r\nexport default withStyles(styles)(StaticProfile);","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport axios from 'axios';\r\nimport Scream from '../components/scream/Scream';\r\nimport StaticProfile from '../components/profile/StaticProfile';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport ScreamSkeleton from '../util/ScreamSkeleton';\r\nimport ProfileSkeleton from '../util/ProfileSkeleton';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { getUserData } from '../redux/actions/dataActions';\r\n\r\nexport class user extends Component {\r\n    state = {\r\n        profile: null,\r\n        screamIdParam: null\r\n    }\r\n    componentDidMount(){\r\n        const handle = this.props.match.params.handle;\r\n        const screamId = this.props.match.params.screamId;\r\n\r\n        if(screamId) this.setState({ screamIdParam: screamId });\r\n\r\n        this.props.getUserData(handle);\r\n        axios.get(`/user/${handle}`)\r\n            .then(res => {\r\n                this.setState({\r\n                    profile: res.data.user\r\n                })\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n    render() {\r\n        const { screams, loading } = this.props.data;\r\n        const { screamIdParam } = this.state;\r\n\r\n        const screamsMarkup = loading ? (\r\n            <ScreamSkeleton/>\r\n        ) : screams === null ? (\r\n            <p>No screams from this user</p>\r\n        ) : !screamIdParam ? (\r\n            screams.map(scream => <Scream key={scream.screamId} scream={scream}/>)\r\n        ) : (\r\n            screams.map(scream => {\r\n                if(scream.screamId !== screamIdParam)\r\n                    return <Scream key={scream.screamId} scream={scream}/>\r\n                else return <Scream key={scream.screamId} scream={scream} openDialog/>\r\n            })\r\n        )\r\n\r\n        return (\r\n            <Grid container spacing={10}>\r\n                <Grid item sm={8} xs={12}>\r\n                    {screamsMarkup}\r\n                </Grid>\r\n                <Grid item sm={4} xs={12}>\r\n                    {this.state.profile === null ? (\r\n                        <ProfileSkeleton/>\r\n                    ) : (\r\n                        <StaticProfile profile={this.state.profile}/>\r\n                    )}\r\n                </Grid>\r\n            </Grid>\r\n        )\r\n    }\r\n}\r\n\r\nuser.propTypes = {\r\n    getUserData: PropTypes.func.isRequired,\r\n    data: PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    data: state.data\r\n})\r\n\r\nexport default connect(mapStateToProps, { getUserData })(user);\r\n","import './App.css';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport React, { Component } from 'react';\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme';\nimport themeFile from './util/theme';\nimport jwtDecode from 'jwt-decode';\n\n//Redux\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport { SET_AUTHENTICATED } from './redux/types';\nimport { logoutUser, getUserData } from './redux/actions/userActions';\n\n//components\nimport Navbar from './components/layout/Navbar';\nimport AuthRoute from './util/AuthRoute';\n\n//Pages\nimport home from './pages/home';\nimport login from './pages/login';\nimport signup from './pages/signup';\nimport user from './pages/user';\n\nimport axios from 'axios';\n\nconst theme = createMuiTheme(themeFile);\n\naxios.defaults.baseURL = 'https://us-central1-fullstackwebsite-d4cfa.cloudfunctions.net/api';\n\nconst token = localStorage.FBIdToken;\nif(token){\n  const decodedToken = jwtDecode(token);\n  if(decodedToken.exp * 1000 < Date.now()){\n    store.dispatch(logoutUser());\n    window.location.href = '/login';\n  } else {\n    store.dispatch({ type: SET_AUTHENTICATED });\n    axios.defaults.headers.common['Authorization'] = token;\n    store.dispatch(getUserData());\n  }\n}\n\nexport class App extends Component {\n  render() {\n    return (\n      <MuiThemeProvider theme={theme}>\n        <Provider store={store}>\n            <Router>\n              <Navbar />\n              <div className=\"container\">\n                <Switch>\n                  <Route exact path=\"/\" component={home}/>\n                  <AuthRoute exact path=\"/login\" component={login}/>\n                  <AuthRoute exact path=\"/signup\" component={signup}/>\n                  <Route exact path=\"/users/:handle\" component={user}/>\n                  <Route exact path=\"/users/:handle/scream/:screamId\" component={user}/>\n                  <Redirect to=\"/\"/>\n                </Switch>\n              </div>\n            </Router>\n        </Provider>\n      </MuiThemeProvider>\n    )\n  }\n}\n\nexport default App;\n","export default {\r\n    palette: {\r\n      primary: {\r\n        light: '#33c9dc',\r\n        main: '#00bcd4',\r\n        dark: '#008394',\r\n        contrastText: '#fff'\r\n      },\r\n      secondary: {\r\n        light: '#ff6333',\r\n        main: '#ff3d00',\r\n        dark: '#b22a00',\r\n        contrastText: '#fff'\r\n      }\r\n    },\r\n    spread: {\r\n      typography: {\r\n        useNextVariants: true\r\n      },\r\n      form: {\r\n        textAlign: 'center'\r\n      },\r\n      image: {\r\n          margin: '20px auto 20px auto'\r\n      },\r\n      pageTitle: {\r\n          margin: '10px auto 10px auto'\r\n      },\r\n      textField: {\r\n          margin: '10px auto 10px auto'\r\n      },\r\n      button: {\r\n          marginTop: 20,\r\n          position: 'relative'\r\n      },\r\n      customError: {\r\n          color: 'red',\r\n          fontSize: '0.8rem',\r\n          marginTop: 10\r\n      },\r\n      progress: {\r\n          position: 'absolute'\r\n      },\r\n      invisibleSeparator: {\r\n          border: 'none',\r\n          margin: 4\r\n      },\r\n      visibleSeparator: {\r\n          width: '100%',\r\n          borderBottom: '1px solid rgba(0,0,0,0.1)',\r\n          marginBottom: 20\r\n      },\r\n      paper: {\r\n          padding: 20\r\n      },\r\n      profile: {\r\n          '& .image-wrapper': {\r\n                  textAlign: 'center',\r\n                  position: 'relative',\r\n              '& button': {\r\n                  position: 'absolute',\r\n                  top: '80%',\r\n                  left: '70%'\r\n              }\r\n          },\r\n          '& .profile-image': {\r\n              width: 200,\r\n              height: 200,\r\n              objectFit: 'cover',\r\n              maxWidth: '100%',\r\n              borderRadius: '50%'\r\n          },\r\n          '& .profile-details': {\r\n              textAlign: 'center',\r\n              '& span, svg': {\r\n                  verticalAlign: 'middle'\r\n              },\r\n              '& a': {\r\n                  color: '#00bcd4'\r\n              }\r\n          },\r\n          '& hr': {\r\n              border: 'none',\r\n              margin: '0 0 10px 0'\r\n          },\r\n          '& svg.button': {\r\n              '&:hover': {\r\n                  cursor: 'pointer'\r\n              }\r\n          }\r\n      },\r\n      buttons: {\r\n          textAlign: 'center',\r\n          '& a': {\r\n            margin: '20px 10px'\r\n          }\r\n      },\r\n    }\r\n  }","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}